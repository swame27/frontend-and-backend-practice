<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–æ–≤–∞—Ä—ã | Digital –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ</title>
    <link rel="stylesheet" href="../style/styles.css">
    <style>
        .goods-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: var(--spacing-lg);
            margin-top: var(--spacing-xl);
        }

        .goods-card {
            transition: transform var(--transition-normal), box-shadow var(--transition-normal);
            height: 100%;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }

        .goods-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
        }

        .goods-card__badge {
            position: absolute;
            top: var(--spacing-sm);
            right: var(--spacing-sm);
            padding: 6px 12px;
            border-radius: var(--radius-sm);
            font-size: var(--font-size-xs);
            font-weight: 700;
            color: var(--color-white);
            z-index: 2;
        }

        .goods-card__badge--new {
            background: var(--color-success);
        }

        .goods-card__badge--sale {
            background: var(--color-warning);
        }

        .goods-card__badge--hit {
            background: var(--color-danger);
        }

        .goods-card__image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            transition: transform var(--transition-normal);
        }

        .goods-card:hover .goods-card__image {
            transform: scale(1.05);
        }

        .goods-card__header {
            padding: var(--spacing-md);
            border-bottom: 1px solid var(--color-border);
            flex-grow: 1;
        }

        .goods-card__category {
            font-size: var(--font-size-xs);
            color: var(--color-primary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 600;
            margin-bottom: var(--spacing-xs);
        }

        .goods-card__title {
            font-size: var(--font-size-lg);
            color: var(--color-dark);
            margin: 0 0 var(--spacing-xs) 0;
            line-height: 1.4;
            transition: color var(--transition-normal);
        }

        body.dark-theme .goods-card__title {
            color: var(--color-dark-text);
        }

        .goods-card__description {
            color: var(--color-text-light);
            line-height: 1.6;
            margin: 0 0 var(--spacing-sm) 0;
            font-size: var(--font-size-sm);
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .goods-card__price {
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
            margin-bottom: var(--spacing-sm);
        }

        .goods-card__price-current {
            font-size: var(--font-size-xl);
            font-weight: 700;
            color: var(--color-success);
        }

        .goods-card__price-original {
            font-size: var(--font-size-sm);
            color: var(--color-text-light);
            text-decoration: line-through;
        }

        .goods-card__rating {
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
            color: var(--color-warning);
            font-weight: 600;
        }

        .goods-card__footer {
            padding: var(--spacing-md);
            border-top: 1px solid var(--color-border);
            display: flex;
            gap: var(--spacing-sm);
        }

        .goods-card__button {
            flex: 1;
        }

        .goods-card__button--wishlist {
            width: 44px;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .goods-filter {
            display: flex;
            gap: var(--spacing-sm);
            justify-content: center;
            margin-bottom: var(--spacing-xl);
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: var(--spacing-sm) var(--spacing-lg);
            border: 2px solid var(--color-border);
            background: var(--color-white);
            color: var(--color-text);
            border-radius: var(--radius-md);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition-normal);
        }

        body.dark-theme .filter-btn {
            background: var(--color-dark-surface);
            border-color: var(--color-dark-light);
            color: var(--color-dark-text);
        }

        .filter-btn:hover,
        .filter-btn--active {
            background: var(--color-primary);
            border-color: var(--color-primary);
            color: var(--color-white);
            transform: translateY(-2px);
        }

        .goods-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-md);
            margin: var(--spacing-xl) 0;
        }

        .stat-card {
            text-align: center;
            padding: var(--spacing-lg);
            border-radius: var(--radius-lg);
            background: var(--color-white);
            box-shadow: var(--shadow-md);
            transition: var(--transition-normal);
        }

        body.dark-theme .stat-card {
            background: var(--color-dark-surface);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .stat-card__icon {
            font-size: 2.5rem;
            margin-bottom: var(--spacing-sm);
        }

        .stat-card__value {
            font-size: var(--font-size-2xl);
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: var(--spacing-xs);
        }

        .stat-card__label {
            color: var(--color-text-light);
            font-size: var(--font-size-sm);
        }

        .featured-goods {
            margin-top: var(--spacing-xl);
        }

        .featured-goods__card {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-xl);
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            color: var(--color-white);
            border-radius: var(--radius-lg);
            overflow: hidden;
            padding: 0;
        }

        .featured-goods__image {
            width: 100%;
            height: 400px;
            object-fit: cover;
        }

        .featured-goods__content {
            padding: var(--spacing-xl);
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .featured-goods__title {
            font-size: var(--font-size-2xl);
            margin: 0 0 var(--spacing-md) 0;
            line-height: 1.3;
        }

        .featured-goods__description {
            font-size: var(--font-size-lg);
            line-height: 1.6;
            opacity: 0.9;
            margin-bottom: var(--spacing-lg);
        }

        .featured-goods__price {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
        }

        .featured-goods__price-current {
            font-size: var(--font-size-3xl);
            font-weight: 700;
        }

        .featured-goods__price-original {
            font-size: var(--font-size-xl);
            opacity: 0.7;
            text-decoration: line-through;
        }

        @media (max-width: 768px) {
            .goods-grid {
                grid-template-columns: 1fr;
            }
            
            .featured-goods__card {
                grid-template-columns: 1fr;
            }
            
            .goods-filter {
                flex-direction: column;
                align-items: stretch;
            }
            
            .filter-btn {
                text-align: center;
            }
            
            .goods-stats {
                grid-template-columns: 1fr;
            }
        }

        /* –°–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –∫–Ω–æ–ø–æ–∫ wishlist */
        .goods-card__button--wishlist[data-state="active"] {
            background: var(--color-danger);
            color: var(--color-white);
        }

        .goods-card__button--wishlist[data-state="inactive"] {
            background: var(--color-light);
            color: var(--color-text);
        }

        body.dark-theme .goods-card__button--wishlist[data-state="inactive"] {
            background: var(--color-dark-light);
            color: var(--color-dark-text);
        }
    </style>
</head>
<body>
    <div class="page">
        <header class="header">
            <button class="header__theme-toggle" id="themeToggle" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
                üåì
            </button>
            <h1 class="header__title">–¢–µ—Ö–Ω–∏–∫–∞ –∏ –ì–∞–¥–∂–µ—Ç—ã</h1>
        </header>
        
        <nav class="nav">
            <ul class="nav__list">
                <li class="nav__item">
                    <a class="nav__link" href="../index.html">–ì–ª–∞–≤–Ω–∞—è</a>
                </li>
                <li class="nav__item">
                    <a class="nav__link" href="news.html">–ù–æ–≤–æ—Å—Ç–∏</a>
                </li>
                <li class="nav__item">
                    <a class="nav__link" href="practices.html">–ü—Ä–∞–∫—Ç–∏–∫–∏</a>
                </li>
                <li class="nav__item">
                    <a class="nav__link nav__link--active" href="goods.html">–¢–æ–≤–∞—Ä—ã</a>
                </li>
                <li class="nav__item">
                    <a class="nav__link" href="contacts.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
                </li>
            </ul>
        </nav>

        <main class="main">
            <section class="section fade-in">
                <h2 class="section-title">–ù–∞—à–∏ —Ç–æ–≤–∞—Ä—ã</h2>
                
                <div class="goods-filter">
                    <button class="filter-btn filter-btn--active" data-category="all">–í—Å–µ —Ç–æ–≤–∞—Ä—ã</button>
                    <button class="filter-btn" data-category="phones">–°–º–∞—Ä—Ç—Ñ–æ–Ω—ã</button>
                    <button class="filter-btn" data-category="laptops">–ù–æ—É—Ç–±—É–∫–∏</button>
                    <button class="filter-btn" data-category="watches">–ß–∞—Å—ã</button>
                    <button class="filter-btn" data-category="accessories">–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã</button>
                </div>

                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                <div class="goods-stats">
                    <div class="stat-card">
                        <div class="stat-card__icon">üöö</div>
                        <div class="stat-card__value">–ë–µ—Å–ø–ª–∞—Ç–Ω–æ</div>
                        <div class="stat-card__label">–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –†–§</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card__icon">üõ°Ô∏è</div>
                        <div class="stat-card__value">24 –º–µ—Å—è—Ü–∞</div>
                        <div class="stat-card__label">–ì–∞—Ä–∞–Ω—Ç–∏—è</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card__icon">üí≥</div>
                        <div class="stat-card__value">0%</div>
                        <div class="stat-card__label">–†–∞—Å—Å—Ä–æ—á–∫–∞</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card__icon">üè™</div>
                        <div class="stat-card__value">50+</div>
                        <div class="stat-card__label">–ü—É–Ω–∫—Ç–æ–≤ –≤—ã–¥–∞—á–∏</div>
                    </div>
                </div>

                <!-- –°–µ—Ç–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ -->
                <div class="goods-grid">
                    <!-- –¢–æ–≤–∞—Ä 1 -->
                    <article class="card goods-card" data-category="phones" data-id="1">
                        <span class="goods-card__badge goods-card__badge--new">NEW</span>
                        <img src="../images/goods1.jpg" alt="iPhone 17 Pro Max" class="goods-card__image">
                        <div class="goods-card__header">
                            <div class="goods-card__category">–°–º–∞—Ä—Ç—Ñ–æ–Ω</div>
                            <h4 class="goods-card__title">iPhone 17 Pro Max</h4>
                            <p class="goods-card__description">–§–ª–∞–≥–º–∞–Ω—Å–∫–∏–π —Å–º–∞—Ä—Ç—Ñ–æ–Ω —Å —Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–æ–π –∫–∞–º–µ—Ä–æ–π –∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–º –Ω–æ–≤–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è.</p>
                            <div class="goods-card__price">
                                <span class="goods-card__price-current">87 990 ‚ÇΩ</span>
                            </div>
                            <div class="goods-card__rating">
                                ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê <span>4.9 (256 –æ—Ç–∑—ã–≤–æ–≤)</span>
                            </div>
                        </div>
                        <div class="goods-card__footer">
                            <button class="button button--primary goods-card__button" onclick="openGoodsModal(1)">–í –∫–æ—Ä–∑–∏–Ω—É</button>
                            <button class="button goods-card__button goods-card__button--wishlist" data-state="inactive" onclick="toggleWishlist(this, 1)">
                                ‚ù§Ô∏è
                            </button>
                        </div>
                    </article>

                    <!-- –¢–æ–≤–∞—Ä 2 -->
                    <article class="card goods-card" data-category="laptops" data-id="2">
                        <span class="goods-card__badge goods-card__badge--sale">-15%</span>
                        <img src="../images/goods2.jpg" alt="Macbook M4" class="goods-card__image">
                        <div class="goods-card__header">
                            <div class="goods-card__category">–ù–æ—É—Ç–±—É–∫</div>
                            <h4 class="goods-card__title">Macbook M4 Pro</h4>
                            <p class="goods-card__description">–ú–æ—â–Ω—ã–π –Ω–æ—É—Ç–±—É–∫ –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤ —Å —á–∏–ø–æ–º M4 –∏ –¥–∏—Å–ø–ª–µ–µ–º Liquid Retina XDR.</p>
                            <div class="goods-card__price">
                                <span class="goods-card__price-original">92 500 ‚ÇΩ</span>
                                <span class="goods-card__price-current">78 600 ‚ÇΩ</span>
                            </div>
                            <div class="goods-card__rating">
                                ‚≠ê‚≠ê‚≠ê‚≠ê <span>4.7 (189 –æ—Ç–∑—ã–≤–æ–≤)</span>
                            </div>
                        </div>
                        <div class="goods-card__footer">
                            <button class="button button--primary goods-card__button" onclick="openGoodsModal(2)">–í –∫–æ—Ä–∑–∏–Ω—É</button>
                            <button class="button goods-card__button goods-card__button--wishlist" data-state="inactive" onclick="toggleWishlist(this, 2)">
                                ‚ù§Ô∏è
                            </button>
                        </div>
                    </article>

                    <!-- –¢–æ–≤–∞—Ä 3 -->
                    <article class="card goods-card" data-category="watches" data-id="3">
                        <span class="goods-card__badge goods-card__badge--hit">–•–ò–¢</span>
                        <img src="../images/goods3.jpg" alt="Apple Watch Series 10" class="goods-card__image">
                        <div class="goods-card__header">
                            <div class="goods-card__category">–°–º–∞—Ä—Ç-—á–∞—Å—ã</div>
                            <h4 class="goods-card__title">Apple Watch Series 10</h4>
                            <p class="goods-card__description">–ò–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —á–∞—Å—ã —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∑–¥–æ—Ä–æ–≤—å—è, —Ñ–∏—Ç–Ω–µ—Å–∞ –∏ —É–º–Ω–æ–≥–æ –¥–æ–º–∞.</p>
                            <div class="goods-card__price">
                                <span class="goods-card__price-current">25 689 ‚ÇΩ</span>
                            </div>
                            <div class="goods-card__rating">
                                ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê <span>4.8 (312 –æ—Ç–∑—ã–≤–æ–≤)</span>
                            </div>
                        </div>
                        <div class="goods-card__footer">
                            <button class="button button--primary goods-card__button" onclick="openGoodsModal(3)">–í –∫–æ—Ä–∑–∏–Ω—É</button>
                            <button class="button goods-card__button goods-card__button--wishlist" data-state="inactive" onclick="toggleWishlist(this, 3)">
                                ‚ù§Ô∏è
                            </button>
                        </div>
                    </article>
                </div>

                <!-- –•–∏—Ç –ø—Ä–æ–¥–∞–∂ -->
                <section class="featured-goods fade-in">
                    <h3 class="section-title">–•–∏—Ç –ø—Ä–æ–¥–∞–∂</h3>
                    <article class="card featured-goods__card">
                        <img src="../images/goods1.jpg" alt="iPhone 17 Pro Max" class="featured-goods__image">
                        <div class="featured-goods__content">
                            <div class="goods-card__category" style="color: rgba(255,255,255,0.9);">–°–º–∞—Ä—Ç—Ñ–æ–Ω</div>
                            <h3 class="featured-goods__title">iPhone 17 Pro Max</h3>
                            <p class="featured-goods__description">
                                –ù–æ–≤—ã–π —Ñ–ª–∞–≥–º–∞–Ω—Å–∫–∏–π —Å–º–∞—Ä—Ç—Ñ–æ–Ω —Å —Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∫–∞–º–µ—Ä, –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–º A17 Pro 
                                –∏ –¥–∏—Å–ø–ª–µ–µ–º Super Retina XDR. –ò–¥–µ–∞–ª–µ–Ω –¥–ª—è —Ñ–æ—Ç–æ—Å—ä–µ–º–∫–∏, –∏–≥—Ä –∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã.
                            </p>
                            <div class="featured-goods__price">
                                <span class="featured-goods__price-current">87 990 ‚ÇΩ</span>
                            </div>
                            <div class="goods-card__rating" style="color: #ffd700; margin-bottom: var(--spacing-lg);">
                                ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê <span style="opacity: 0.9;">4.9 (256 –æ—Ç–∑—ã–≤–æ–≤)</span>
                            </div>
                            <div style="display: flex; gap: var(--spacing-sm);">
                                <button class="button button--primary" style="flex: 1; background: var(--color-white); color: var(--color-primary);" onclick="openGoodsModal(1)">
                                    –ö—É–ø–∏—Ç—å —Å–µ–π—á–∞—Å
                                </button>
                                <button class="button" style="flex: 1; background: rgba(255,255,255,0.1); color: var(--color-white); border: 2px solid rgba(255,255,255,0.3);" onclick="addToCart(1)">
                                    –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
                                </button>
                            </div>
                        </div>
                    </article>
                </section>
            </section>
        </main>

        <footer class="footer">
            <div class="footer__content">
                <div class="footer__section">
                    <h3 class="footer__title">–ú–∞–≥–∞–∑–∏–Ω —Ç–µ—Ö–Ω–∏–∫–∏</h3>
                    <p class="footer__text">–õ—É—á—à–∏–µ –≥–∞–¥–∂–µ—Ç—ã –∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞ –ø–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º —Ü–µ–Ω–∞–º —Å –≥–∞—Ä–∞–Ω—Ç–∏–µ–π –∫–∞—á–µ—Å—Ç–≤–∞.</p>
                </div>
                <div class="footer__section">
                    <h3 class="footer__title">–£—Å–ª–æ–≤–∏—è</h3>
                    <nav class="footer__nav">
                        <a href="#" class="footer__link">–î–æ—Å—Ç–∞–≤–∫–∞</a>
                        <a href="#" class="footer__link">–ì–∞—Ä–∞–Ω—Ç–∏—è</a>
                        <a href="#" class="footer__link">–í–æ–∑–≤—Ä–∞—Ç</a>
                        <a href="#" class="footer__link">–†–∞—Å—Å—Ä–æ—á–∫–∞</a>
                    </nav>
                </div>
                <div class="footer__section">
                    <h3 class="footer__title">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</h3>
                    <p class="footer__text">–ü–æ–º–æ—â—å –≤ –≤—ã–±–æ—Ä–µ –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7.</p>
                </div>
            </div>
            <div class="footer__bottom">
                <p class="footer__copyright">&copy; 2024 TechStore. –í—Å–µ —Ç–æ–≤–∞—Ä—ã –≤ –Ω–∞–ª–∏—á–∏–∏.</p>
            </div>
        </footer>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ç–æ–≤–∞—Ä–∞ -->
    <dialog class="dialog" id="goodsDialog">
        <div class="dialog__header">
            <h2 class="dialog__title" id="goodsModalTitle"></h2>
        </div>
        <div class="dialog__body">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-lg); margin-bottom: var(--spacing-lg);">
                <div id="goodsModalImage" style="width: 100%; height: 300px; border-radius: var(--radius-md); background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));"></div>
                <div>
                    <div id="goodsModalCategory" style="font-size: var(--font-size-xs); color: var(--color-primary); text-transform: uppercase; letter-spacing: 0.5px; font-weight: 600; margin-bottom: var(--spacing-xs);"></div>
                    <div id="goodsModalPrice" style="font-size: var(--font-size-2xl); font-weight: 700; color: var(--color-success); margin-bottom: var(--spacing-md);"></div>
                    <div id="goodsModalRating" style="display: flex; align-items: center; gap: var(--spacing-xs); color: var(--color-warning); font-weight: 600; margin-bottom: var(--spacing-lg);"></div>
                    <div style="display: flex; gap: var(--spacing-sm);">
                        <button class="button button--primary" style="flex: 1;" id="goodsModalBuyBtn">–ö—É–ø–∏—Ç—å</button>
                        <button class="button button--secondary" style="flex: 1;" id="goodsModalCartBtn">–í –∫–æ—Ä–∑–∏–Ω—É</button>
                    </div>
                </div>
            </div>
            <div id="goodsModalDescription" style="line-height: 1.8;">
                <!-- –û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —á–µ—Ä–µ–∑ JavaScript -->
            </div>
            <div id="goodsModalSpecs" style="margin-top: var(--spacing-lg);">
                <h4 style="margin-bottom: var(--spacing-sm); color: var(--color-dark);">–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</h4>
                <div id="goodsModalSpecsList" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-sm);">
                    <!-- –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —á–µ—Ä–µ–∑ JavaScript -->
                </div>
            </div>
        </div>
        <div class="dialog__footer">
            <button class="button button--secondary" onclick="closeGoodsModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
            <button class="button button--primary" id="goodsModalWishlistBtn" onclick="toggleWishlistModal()">
                <span id="wishlistText">–î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ</span>
                <span id="wishlistIcon" style="margin-left: 8px;">‚ù§Ô∏è</span>
            </button>
        </div>
    </dialog>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –∫–æ—Ä–∑–∏–Ω—ã -->
    <dialog class="dialog" id="cartDialog" style="max-width: 600px;">
        <div class="dialog__header">
            <h2 class="dialog__title">–ö–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫</h2>
        </div>
        <div class="dialog__body">
            <div id="cartItems" style="max-height: 300px; overflow-y: auto;">
                <!-- –¢–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —á–µ—Ä–µ–∑ JavaScript -->
                <div style="text-align: center; padding: var(--spacing-xl); color: var(--color-text-light);">
                    –ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞
                </div>
            </div>
            <div id="cartTotal" style="margin-top: var(--spacing-lg); padding-top: var(--spacing-md); border-top: 1px solid var(--color-border); text-align: right; font-size: var(--font-size-xl); font-weight: 700; color: var(--color-success);">
                –ò—Ç–æ–≥–æ: 0 ‚ÇΩ
            </div>
        </div>
        <div class="dialog__footer">
            <button class="button button--secondary" onclick="closeCartModal()">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–∫—É–ø–∫–∏</button>
            <button class="button button--primary" onclick="checkout()">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
        </div>
    </dialog>

    <script>
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
        const themeToggle = document.getElementById('themeToggle');
        const currentTheme = localStorage.getItem('theme') || 'light';
        
        if (currentTheme === 'dark') {
            document.body.classList.add('dark-theme');
            themeToggle.textContent = '‚òÄÔ∏è';
        }
        
        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-theme');
            const isDark = document.body.classList.contains('dark-theme');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            themeToggle.textContent = isDark ? '‚òÄÔ∏è' : 'üåì';
        });

        // –ê–∫—Ç–∏–≤–∞—Ü–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('.nav__link');
            navLinks.forEach(link => {
                if (link.getAttribute('href') === 'goods.html') {
                    link.classList.add('nav__link--active');
                }
            });

            // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤
            const filterBtns = document.querySelectorAll('.filter-btn');
            const goodsCards = document.querySelectorAll('.goods-card');
            
            filterBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
                    filterBtns.forEach(b => b.classList.remove('filter-btn--active'));
                    // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Ç–µ–∫—É—â–µ–π –∫–Ω–æ–ø–∫–µ
                    this.classList.add('filter-btn--active');
                    
                    const category = this.getAttribute('data-category');
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º —Ç–æ–≤–∞—Ä—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
                    goodsCards.forEach(card => {
                        if (category === 'all' || card.getAttribute('data-category') === category) {
                            card.style.display = 'block';
                            setTimeout(() => {
                                card.style.opacity = '1';
                                card.style.transform = 'translateY(0)';
                            }, 100);
                        } else {
                            card.style.opacity = '0';
                            card.style.transform = 'translateY(20px)';
                            setTimeout(() => {
                                card.style.display = 'none';
                            }, 300);
                        }
                    });
                });
            });

            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ wishlist –∏–∑ localStorage
            const wishlistButtons = document.querySelectorAll('.goods-card__button--wishlist');
            wishlistButtons.forEach(btn => {
                const productId = btn.getAttribute('onclick').match(/\d+/)[0];
                const isInWishlist = localStorage.getItem(`wishlist_${productId}`) === 'true';
                if (isInWishlist) {
                    btn.setAttribute('data-state', 'active');
                    btn.innerHTML = '‚ù§Ô∏è';
                    btn.style.background = 'var(--color-danger)';
                    btn.style.color = 'var(--color-white)';
                }
            });

            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É –∏–∑ localStorage
            updateCart();
        });

        // –î–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä–æ–≤
        const goodsData = {
            1: {
                title: "iPhone 17 Pro Max",
                category: "–°–º–∞—Ä—Ç—Ñ–æ–Ω",
                price: "87 990 ‚ÇΩ",
                rating: "‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê 4.9 (256 –æ—Ç–∑—ã–≤–æ–≤)",
                description: `
                    <p>–§–ª–∞–≥–º–∞–Ω—Å–∫–∏–π —Å–º–∞—Ä—Ç—Ñ–æ–Ω Apple –Ω–æ–≤–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è —Å —Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏.</p>
                    <p><strong>–û—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</strong></p>
                    <ul>
                        <li>–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä A17 Pro - —Å–∞–º—ã–π –º–æ—â–Ω—ã–π –≤ –∏—Å—Ç–æ—Ä–∏–∏ iPhone</li>
                        <li>–°–∏—Å—Ç–µ–º–∞ –∫–∞–º–µ—Ä Pro —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –Ω–æ—á–Ω–æ–π —Å—ä–µ–º–∫–æ–π</li>
                        <li>–î–∏—Å–ø–ª–µ–π Super Retina XDR 6.9" —Å —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–µ–π ProMotion</li>
                        <li>–î–æ 2 –¢–ë –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏</li>
                        <li>–ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä –Ω–∞ 30% –º–æ—â–Ω–µ–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –º–æ–¥–µ–ª–∏</li>
                        <li>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ 5G –∏ Wi-Fi 7</li>
                    </ul>
                `,
                specs: {
                    "–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä": "A17 Pro",
                    "–ü–∞–º—è—Ç—å": "512 –ì–ë / 1 –¢–ë / 2 –¢–ë",
                    "–≠–∫—Ä–∞–Ω": "6.9\" Super Retina XDR",
                    "–ö–∞–º–µ—Ä—ã": "48 –ú–ü + 12 –ú–ü + 12 –ú–ü",
                    "–ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä": "5000 –º–ê—á",
                    "–¶–≤–µ—Ç–∞": "–¢–∏—Ç–∞–Ω–æ–≤—ã–π, –ß–µ—Ä–Ω—ã–π, –ë–µ–ª—ã–π, –°–∏–Ω–∏–π"
                }
            },
            2: {
                title: "Macbook M4 Pro",
                category: "–ù–æ—É—Ç–±—É–∫",
                price: "78 600 ‚ÇΩ",
                originalPrice: "92 500 ‚ÇΩ",
                rating: "‚≠ê‚≠ê‚≠ê‚≠ê 4.7 (189 –æ—Ç–∑—ã–≤–æ–≤)",
                description: `
                    <p>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –Ω–æ—É—Ç–±—É–∫ –¥–ª—è —Å–∞–º—ã—Ö —Ç—Ä–µ–±–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á.</p>
                    <p><strong>–û—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</strong></p>
                    <ul>
                        <li>–ß–∏–ø Apple M4 Pro —Å 12-—è–¥–µ—Ä–Ω—ã–º CPU –∏ 18-—è–¥–µ—Ä–Ω—ã–º GPU</li>
                        <li>–î–∏—Å–ø–ª–µ–π Liquid Retina XDR 16.2" —Å —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–µ–π ProMotion</li>
                        <li>–î–æ 96 –ì–ë —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏</li>
                        <li>–î–æ 8 –¢–ë SSD —Ö—Ä–∞–Ω–∏–ª–∏—â–∞</li>
                        <li>–î–æ 22 —á–∞—Å–æ–≤ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–π —Ä–∞–±–æ—Ç—ã</li>
                        <li>–ü–æ—Ä—Ç—ã: Thunderbolt 4, HDMI, SDXC, MagSafe 3</li>
                    </ul>
                `,
                specs: {
                    "–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä": "Apple M4 Pro",
                    "–ü–∞–º—è—Ç—å": "32 –ì–ë / 64 –ì–ë / 96 –ì–ë",
                    "SSD": "1 –¢–ë / 2 –¢–ë / 4 –¢–ë / 8 –¢–ë",
                    "–≠–∫—Ä–∞–Ω": "16.2\" Liquid Retina XDR",
                    "–ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä": "100 –í—Ç¬∑—á",
                    "–í–µ—Å": "1.6 –∫–≥"
                }
            },
            3: {
                title: "Apple Watch Series 10",
                category: "–°–º–∞—Ä—Ç-—á–∞—Å—ã",
                price: "25 689 ‚ÇΩ",
                rating: "‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê 4.8 (312 –æ—Ç–∑—ã–≤–æ–≤)",
                description: `
                    <p>–°–∞–º—ã–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —É–º–Ω—ã–µ —á–∞—Å—ã Apple –¥–ª—è –∑–¥–æ—Ä–æ–≤—å—è –∏ —Ñ–∏—Ç–Ω–µ—Å–∞.</p>
                    <p><strong>–û—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</strong></p>
                    <ul>
                        <li>–ù–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä S10 –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</li>
                        <li>–£–ª—É—á—à–µ–Ω–Ω—ã–µ –¥–∞—Ç—á–∏–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è: –≠–ö–ì, –∫–∏—Å–ª–æ—Ä–æ–¥ –≤ –∫—Ä–æ–≤–∏, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Ç–µ–ª–∞</li>
                        <li>Always-On –¥–∏—Å–ø–ª–µ–π Retina 45 –º–º</li>
                        <li>–î–æ 36 —á–∞—Å–æ–≤ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–π —Ä–∞–±–æ—Ç—ã</li>
                        <li>–ó–∞—â–∏—Ç–∞ –æ—Ç –≤–æ–¥—ã –¥–æ 50 –º–µ—Ç—Ä–æ–≤</li>
                        <li>–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —ç–∫–æ—Å–∏—Å—Ç–µ–º–æ–π Apple Health</li>
                    </ul>
                `,
                specs: {
                    "–†–∞–∑–º–µ—Ä": "41 –º–º / 45 –º–º",
                    "–ú–∞—Ç–µ—Ä–∏–∞–ª": "–ê–ª—é–º–∏–Ω–∏–π / –ù–µ—Ä–∂–∞–≤–µ—é—â–∞—è —Å—Ç–∞–ª—å / –¢–∏—Ç–∞–Ω",
                    "–î–∏—Å–ø–ª–µ–π": "Always-On Retina",
                    "–î–∞—Ç—á–∏–∫–∏": "–≠–ö–ì, SpO2, –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞",
                    "–ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä": "–¥–æ 36 —á–∞—Å–æ–≤",
                    "–ó–∞—â–∏—Ç–∞": "IP6X, WR50"
                }
            }
        };

        // –ö–æ—Ä–∑–∏–Ω–∞
        let cart = JSON.parse(localStorage.getItem('cart')) || [];

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Ç–æ–≤–∞—Ä–∞
        function openGoodsModal(productId) {
            const product = goodsData[productId];
            if (!product) return;
            
            document.getElementById('goodsModalTitle').textContent = product.title;
            document.getElementById('goodsModalCategory').textContent = product.category;
            document.getElementById('goodsModalPrice').textContent = product.price;
            if (product.originalPrice) {
                document.getElementById('goodsModalPrice').innerHTML = `
                    <span style="font-size: var(--font-size-sm); color: var(--color-text-light); text-decoration: line-through; margin-right: var(--spacing-xs);">
                        ${product.originalPrice}
                    </span>
                    ${product.price}
                `;
            }
            document.getElementById('goodsModalRating').innerHTML = product.rating;
            document.getElementById('goodsModalDescription').innerHTML = product.description;
            
            // –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
            const specsList = document.getElementById('goodsModalSpecsList');
            specsList.innerHTML = '';
            for (const [key, value] of Object.entries(product.specs)) {
                const specItem = document.createElement('div');
                specItem.style.padding = 'var(--spacing-xs) 0';
                specItem.style.borderBottom = '1px solid var(--color-border)';
                specItem.innerHTML = `
                    <div style="font-weight: 600; color: var(--color-text);">${key}</div>
                    <div style="color: var(--color-text-light);">${value}</div>
                `;
                specsList.appendChild(specItem);
            }
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–æ–∫
            document.getElementById('goodsModalBuyBtn').onclick = function() { addToCart(productId, true); };
            document.getElementById('goodsModalCartBtn').onclick = function() { addToCart(productId); };
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Ç–æ–≤–∞—Ä –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º
            const isInWishlist = localStorage.getItem(`wishlist_${productId}`) === 'true';
            const wishlistBtn = document.getElementById('goodsModalWishlistBtn');
            const wishlistText = document.getElementById('wishlistText');
            const wishlistIcon = document.getElementById('wishlistIcon');
            
            if (isInWishlist) {
                wishlistText.textContent = '–£–¥–∞–ª–∏—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ';
                wishlistIcon.textContent = '‚ù§Ô∏è';
                wishlistBtn.style.background = 'var(--color-danger)';
            } else {
                wishlistText.textContent = '–î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ';
                wishlistIcon.textContent = 'ü§ç';
                wishlistBtn.style.background = '';
            }
            
            wishlistBtn.onclick = function() { toggleWishlistModal(productId); };
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            document.getElementById('goodsDialog').showModal();
        }

        function closeGoodsModal() {
            document.getElementById('goodsDialog').close();
        }

        function toggleWishlist(button, productId) {
            const isActive = button.getAttribute('data-state') === 'active';
            
            if (isActive) {
                button.setAttribute('data-state', 'inactive');
                button.innerHTML = 'ü§ç';
                button.style.background = '';
                button.style.color = '';
                localStorage.setItem(`wishlist_${productId}`, 'false');
            } else {
                button.setAttribute('data-state', 'active');
                button.innerHTML = '‚ù§Ô∏è';
                button.style.background = 'var(--color-danger)';
                button.style.color = 'var(--color-white)';
                localStorage.setItem(`wishlist_${productId}`, 'true');
                
                // –ê–Ω–∏–º–∞—Ü–∏—è
                button.style.transform = 'scale(1.2)';
                setTimeout(() => {
                    button.style.transform = '';
                }, 300);
            }
        }

        function toggleWishlistModal(productId) {
            const wishlistBtn = document.getElementById('goodsModalWishlistBtn');
            const wishlistText = document.getElementById('wishlistText');
            const wishlistIcon = document.getElementById('wishlistIcon');
            const isInWishlist = localStorage.getItem(`wishlist_${productId}`) === 'true';
            
            if (isInWishlist) {
                localStorage.setItem(`wishlist_${productId}`, 'false');
                wishlistText.textContent = '–î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ';
                wishlistIcon.textContent = 'ü§ç';
                wishlistBtn.style.background = '';
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ —Ç–æ–≤–∞—Ä–∞
                const cardBtn = document.querySelector(`.goods-card__button--wishlist[onclick*="${productId}"]`);
                if (cardBtn) {
                    cardBtn.setAttribute('data-state', 'inactive');
                    cardBtn.innerHTML = 'ü§ç';
                    cardBtn.style.background = '';
                    cardBtn.style.color = '';
                }
            } else {
                localStorage.setItem(`wishlist_${productId}`, 'true');
                wishlistText.textContent = '–£–¥–∞–ª–∏—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ';
                wishlistIcon.textContent = '‚ù§Ô∏è';
                wishlistBtn.style.background = 'var(--color-danger)';
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ —Ç–æ–≤–∞—Ä–∞
                const cardBtn = document.querySelector(`.goods-card__button--wishlist[onclick*="${productId}"]`);
                if (cardBtn) {
                    cardBtn.setAttribute('data-state', 'active');
                    cardBtn.innerHTML = '‚ù§Ô∏è';
                    cardBtn.style.background = 'var(--color-danger)';
                    cardBtn.style.color = 'var(--color-white)';
                }
            }
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∫–æ—Ä–∑–∏–Ω—ã
        function addToCart(productId, buyNow = false) {
            const product = goodsData[productId];
            if (!product) return;
            
            // –ò–∑–≤–ª–µ–∫–∞–µ–º —Ü–µ–Ω—É –∫–∞–∫ —á–∏—Å–ª–æ
            const price = parseInt(product.price.replace(/[^\d]/g, ''));
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Ç–æ–≤–∞—Ä —É–∂–µ –≤ –∫–æ—Ä–∑–∏–Ω–µ
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    id: productId,
                    title: product.title,
                    price: price,
                    quantity: 1
                });
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
            localStorage.setItem('cart', JSON.stringify(cart));
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã
            updateCart();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            showNotification(`${product.title} –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É!`);
            
            if (buyNow) {
                closeGoodsModal();
                openCartModal();
            }
        }

        function updateCart() {
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');
            
            if (cart.length === 0) {
                cartItems.innerHTML = `
                    <div style="text-align: center; padding: var(--spacing-xl); color: var(--color-text-light);">
                        –ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞
                    </div>
                `;
                cartTotal.textContent = '–ò—Ç–æ–≥–æ: 0 ‚ÇΩ';
                return;
            }
            
            let total = 0;
            let itemsHTML = '';
            
            cart.forEach((item, index) => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                
                itemsHTML += `
                    <div style="display: flex; align-items: center; padding: var(--spacing-sm); border-bottom: 1px solid var(--color-border);">
                        <div style="flex: 1;">
                            <div style="font-weight: 600; margin-bottom: var(--spacing-xs);">${item.title}</div>
                            <div style="color: var(--color-success); font-weight: 600;">${item.price.toLocaleString()} ‚ÇΩ</div>
                        </div>
                        <div style="display: flex; align-items: center; gap: var(--spacing-sm);">
                            <button class="button" style="padding: 4px 8px; font-size: var(--font-size-sm);" onclick="updateQuantity(${index}, -1)">-</button>
                            <span style="min-width: 30px; text-align: center;">${item.quantity}</span>
                            <button class="button" style="padding: 4px 8px; font-size: var(--font-size-sm);" onclick="updateQuantity(${index}, 1)">+</button>
                            <button class="button button--danger" style="padding: 4px 8px; font-size: var(--font-size-sm);" onclick="removeFromCart(${index})">
                                üóëÔ∏è
                            </button>
                        </div>
                    </div>
                `;
            });
            
            cartItems.innerHTML = itemsHTML;
            cartTotal.textContent = `–ò—Ç–æ–≥–æ: ${total.toLocaleString()} ‚ÇΩ`;
        }

        function updateQuantity(index, change) {
            cart[index].quantity += change;
            
            if (cart[index].quantity <= 0) {
                cart.splice(index, 1);
            }
            
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCart();
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCart();
            showNotification('–¢–æ–≤–∞—Ä —É–¥–∞–ª–µ–Ω –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã');
        }

        function openCartModal() {
            updateCart();
            document.getElementById('cartDialog').showModal();
        }

        function closeCartModal() {
            document.getElementById('cartDialog').close();
        }

        function checkout() {
            if (cart.length === 0) {
                alert('–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞!');
                return;
            }
            
            alert(`–ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω! –°—É–º–º–∞: ${cart.reduce((sum, item) => sum + (item.price * item.quantity), 0).toLocaleString()} ‚ÇΩ\n–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–∫—É–ø–∫—É!`);
            cart = [];
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCart();
            closeCartModal();
        }

        function showNotification(message) {
            // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: var(--color-success);
                color: white;
                padding: var(--spacing-sm) var(--spacing-md);
                border-radius: var(--radius-md);
                box-shadow: var(--shadow-lg);
                z-index: 1000;
                animation: slideIn 0.3s ease;
            `;
            
            notification.textContent = message;
            document.body.appendChild(notification);
            
            // –£–¥–∞–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
            if (!document.querySelector('#notification-styles')) {
                const style = document.createElement('style');
                style.id = 'notification-styles';
                style.textContent = `
                    @keyframes slideIn {
                        from { transform: translateX(100%); opacity: 0; }
                        to { transform: translateX(0); opacity: 1; }
                    }
                    @keyframes slideOut {
                        from { transform: translateX(0); opacity: 1; }
                        to { transform: translateX(100%); opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
            }
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø–æ –∫–ª–∏–∫—É –Ω–∞ —Ñ–æ–Ω
        document.getElementById('goodsDialog').addEventListener('click', function(event) {
            if (event.target === this) {
                closeGoodsModal();
            }
        });

        document.getElementById('cartDialog').addEventListener('click', function(event) {
            if (event.target === this) {
                closeCartModal();
            }
        });

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∞–≤–∏—à–∏ Esc
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeGoodsModal();
                closeCartModal();
            }
        });
    </script>
</body>
</html>